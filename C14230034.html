<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>
<body>
    <div>
        <div class="row col-13 bg-info ps-5 fs-4 text-white p-2">
            <h1>Kanban View</h1>
        </div>
        <div class="row col-2 p-2 ps-5 mt-2">
            <button onclick="openModal()">Add</button>
        </div>
        <div class="row p-3 d-flex justify-content-center">
            <div class="card" style="width: 15%; min-height: 70vh;">
                <div class="col-12 bg-secondary-subtle ps-2 pt-1">
                    <p class="fw-semibold">Pending</p>
                </div>
                <div id="displayPending" class="p-2">

                </div>
            </div>
            <div class="card" style="width: 15%; min-height: 70vh;">
                <div class="col-12 bg-secondary-subtle ps-2 pt-1">
                    <p class="fw-semibold">Planning</p>
                </div>
                <div id="displayPlanning" class="p-2">

                </div>
            </div>
            <div class="card" style="width: 15%; min-height: 70vh;">
                <div class="col-12 bg-secondary-subtle ps-2 pt-1">
                    <p class="fw-semibold">Design</p>
                </div>
                <div id="displayDesign" class="p-2">

                </div>
            </div>
            <div class="card" style="width: 15%; min-height: 70vh;">
                <div class="col-12 bg-secondary-subtle ps-2 pt-1">
                    <p class="fw-semibold">Development</p>
                </div>
                <div id="displayDevelopment" class="p-2">

                </div>
            </div>
            <div class="card" style="width: 15%; min-height: 70vh;">
                <div class="col-12 bg-secondary-subtle ps-2 pt-1">
                    <p class="fw-semibold">Testing</p>
                </div>
                <div id="displayTesting" class="p-2">

                </div>
            </div>
            <div class="card" style="width: 15%; min-height: 70vh;">
                <div class="col-12 bg-secondary-subtle ps-2 pt-1">
                    <p class="fw-semibold">Resolved</p>
                </div>
                <div id="displayResolved" class="p-2">

                </div>
            </div>
        </div>
    </div>

    <div id="modalInput" class="position-fixed top-50 start-50 translate-middle col-4 bg-secondary-subtle" hidden>
        <div class="position-relative">
           <div class="bg-info p-2 mb-2">
                <h3 class="text-white">Kanban View</h3>
           </div>
           <div class="p-3">
            <div class="mb-3">
                <label for="inputTugas" class="form-label">Tugas</label>
                <input class="form-control" id="inputTugas" type ="text" placeholder="Input Tugas">
            </div>
            <div class="mb-3">
                <label for="inputStatus" class="form-label">Status</label>
                <select class="form-select" id="inputStatus">
                    <option value="1">Pending</option>
                    <option value="2">Planning</option>
                    <option value="3">Design</option>
                    <option value="4">Development</option>
                    <option value="5">Testing</option>
                    <option value="6">Resolved</option>
                  </select>
            </div>
            <div class="col-2 bg-primary">
                <button onclick="add()" class="px-3 py-1 bg-primary">Tambah</button>
            </div>
           </div>
        </div>
        <button onclick="closeModal()" class="px-2 position-absolute top-0 end-0 me-3 mt-3 bg-transparent border-0 fs-5">x</button>
    </div>

    <script>
        function openModal(){
            $('#modalInput').removeAttr("hidden");
            $('#inputStatus').val(null);
        }

        function closeModal(){
            $('#modalInput').attr("hidden", true);
        }

        var counter = 1;
        function add(){
            const tugas = $('#inputTugas').val();
            const status = $('#inputStatus').val();
            var pendingContainer = $('#displayPending');
            var planningContainer = $('#displayPlanning');
            var designContainer = $('#displayDesign');
            var developmentContainer = $('#displayDevelopment');
            var testingContainer = $('#displayTesting');
            var resolvedContainer = $('#displayResolved');

            if(status == 1){
                pendingContainer.append(`
                <div class="border border-1 mb-1 col-12 rounded p-2"  id="child${counter}" ondblclick="deleteCard(${counter})">
                    <p>${tugas}</p>
                </div>
                `)
            }
            else if(status == 2){
                planningContainer.append(`
                <div class="border border-1 mb-1 col-12 rounded p-2"  id="child${counter}" ondblclick="deleteCard(${counter})">
                    <p>${tugas}</p>
                </div>
                `)
            }
            else if(status == 3){
                designContainer.append(`
                <div class="border border-1 mb-1 col-12 rounded p-2" id="child${counter}" ondblclick="deleteCard(${counter})">
                    <p>${tugas}</p>
                </div>
                `)
            }
            else if(status == 4){
                developmentContainer.append(`
                <div class="border border-1 mb-1 col-12 rounded p-2" id="child${counter}" ondblclick="deleteCard(${counter})">
                    <p>${tugas}</p>
                </div>
                `)
            }
            else if(status == 5){
                testingContainer.append(`
                <div class="border border-1 mb-1 col-12 rounded p-2"  id="child${counter}" ondblclick="deleteCard(${counter})">
                    <p>${tugas}</p>
                </div>
                `)
            }
            else{
                resolvedContainer.append(`
                <div class="border border-1 mb-1 col-12 rounded p-2"  id="child${counter}" ondblclick="deleteCard(${counter})">
                    <p>${tugas}</p>
                </div>
                `)
            }
            counter += 1;
            $('#modalInput').attr("hidden", true);
            $('#inputTugas').val(null);
            $('#inputStatus').val(null);
        }

        function deleteCard(counter){
            var child = $(`#child${counter}`);
            child.remove();
        }
    </script>
</body>
</html>